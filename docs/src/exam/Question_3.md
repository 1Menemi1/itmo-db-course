# 3. Файловые хранилища. Недостатки. Упорядоченные и неупорядоченные файлы

## Файловые хранилища. Недостатки

Развитие ПО идёт по пути абстрагирования данных от их обработки. Появляется вопрос — **где хранить данные?**

### 1. В файле

- Проблема разделения доступа к данным и сохранения целостности

### 2. В нескольких файлах

- **Дедлок**. Образование бесконечной блокировки (для одного файла блокировка конечная)

  - Чтобы это избежать, в БД существуют транзакции

- **Дублирование данных**.

  - Один из путей избавления — нормализация данных

- **Зависимость от типа**.

  - Например, долгий переход от ext3 к ext4 (из-за максимального размера файла 2 Тб в ext3)

- **Формат файла**.

  - Различные (в т.ч. новые) разработчики должны соблюдать формат файла

## Упорядоченные и неупорядоченные файлы

1. **Неупорядоченный** — новый факт в конец файла.

    - Быстрая запись, медленное чтение

2. **Упорядоченный** — сортировка по атрибуту.

    - Не очень-то быстрое чтение и запись

